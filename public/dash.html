<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Back Informática | Dashboard</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

    <style>
        .modal-content {
            transition: all 0.3s ease-in-out;
        }
        .chart-container {
            position: relative;
            height: 35vh;
            min-height: 250px;
        }
        /* Efeito de clique no card */
        .summary-card {
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            transform: scale(1);
        }
        .summary-card:hover {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            transform: scale(1.02);
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">
    <back-informatica-navbar></back-informatica-navbar>
<br>
    <h3 class="text-3xl font-bold text-gray-800">Resumo de chamado</h3>
    <main class="container mx-auto px-4 py-6 flex-grow">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            <div class="bg-white rounded-lg shadow p-6 flex items-center summary-card" onclick="openStatusModal('ongoing')">
                <div class="p-3 rounded-full bg-blue-100 text-blue-600 mr-4">
                    <i data-feather="clock" class="w-6 h-6"></i>
                </div>
                <div>
                    <p class="text-gray-500">Em Andamento</p>
                    <h3 class="text-2xl font-bold" id="ongoing-count">12</h3>
                </div>
            </div>
            <div class="bg-white rounded-lg shadow p-6 flex items-center summary-card" onclick="openStatusModal('completed')">
                <div class="p-3 rounded-full bg-green-100 text-green-600 mr-4">
                    <i data-feather="check-circle" class="w-6 h-6"></i>
                </div>
                <div>
                    <p class="text-gray-500">Concluídos</p>
                    <h3 class="text-2xl font-bold" id="completed-count">42</h3>
                </div>
            </div>
            <div class="bg-white rounded-lg shadow p-6 flex items-center summary-card" onclick="openStatusModal('pending')">
                <div class="p-3 rounded-full bg-yellow-100 text-yellow-600 mr-4">
                    <i data-feather="alert-circle" class="w-6 h-6"></i>
                </div>
                <div>
                    <p class="text-gray-500">Pendentes</p>
                    <h3 class="text-2xl font-bold" id="pending-count">5</h3>
                </div>
            </div>
        </div>

        <div class="bg-white rounded-lg shadow overflow-hidden mb-8">
            <div class="px-6 py-4 border-b border-gray-200 flex justify-between items-center">
                <h3 class="text-lg font-semibold">Últimos Atendimentos</h3>
                <button onclick="window.location.href='newTicket.html'" class="w-1/2 md:w-auto bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center justify-center transition duration-150">
                    <i data-feather="plus" class="w-5 h-5 mr-2"></i> Novo Chamado
                </button>
            </div>

            <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ID</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Solicitante</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Equipamento</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Data</th>
                            <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">Ações</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-200" id="tickets-table">
                        </tbody>
                </table>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
            <div class="bg-white rounded-lg shadow p-6">
                <h3 class="text-lg font-semibold mb-4">Atendimentos por Status</h3>
                <div class="chart-container">
                    <canvas id="statusChart"></canvas>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow p-6">
                <h3 class="text-lg font-semibold mb-4">Atendimentos Mensais</h3>
                <div class="chart-container">
                    <canvas id="monthlyChart"></canvas>
                </div>
            </div>
        </div>
    </main>
    <div id="action-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50 p-4 transition-opacity duration-300 opacity-0">
        <div class="bg-white rounded-lg shadow-lg w-full max-w-md modal-content transform scale-95">
            <div class="px-6 py-4 border-b border-gray-200 flex justify-between items-center">
                <h3 class="text-lg font-semibold" id="action-modal-title">Ações</h3>
                <button onclick="closeActionModal()" class="text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100">
                    <i data-feather="x" class="w-5 h-5"></i>
                </button>
            </div>
        </div>
    </div>


    <div id="status-list-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50 p-4 transition-opacity duration-300 opacity-0">
        <div class="bg-white rounded-lg shadow-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto modal-content transform scale-95">

            <div class="px-6 py-4 border-b border-gray-200 flex justify-between items-center">
                <h3 class="text-xl font-bold text-gray-800" id="status-modal-title">Chamados por Status</h3>
                <button onclick="closeStatusModal()" class="text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100">
                    <i data-feather="x" class="w-6 h-6"></i>
                </button>
            </div>

    <div class="p-6">
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ID</th>
                                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Solicitante</th>
                                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Equipamento</th>
                                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Data</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200" id="status-modal-list">
                            </tbody>
                    </table>
                </div>

                <div class="mt-4 text-center">
                    <a href="tickets.html" class="text-sm text-blue-600 hover:text-blue-800 font-semibold transition duration-150">Ver todos os chamados ></a>
                </div>
            </div>
        </div>
    </div>

    <back-informatica-footer></back-informatica-footer>

    <script>
        // ===================================================
        // 0. VERIFICAÇÃO DE AUTENTICAÇÃO (Padronizado)
        // ===================================================
        (function checkAuth() {
            // Verifica se existe uma sessão ativa (seja sessionStorage ou localStorage)
            const user = sessionStorage.getItem('back_informatica_user') || localStorage.getItem('back_informatica_user');

            // Se o usuário não estiver autenticado, redireciona para a página de login (index.html)
            if (!user) {
                window.location.replace('index.html');
                return;
            }

            // Em uma aplicação real, você validaria o token do usuário ou o status dele aqui.
            console.log(`Usuário autenticado: ${user}. Carregando página.`);
        })();

        // ===================================================
        // 1. FUNÇÃO LOGOUT (Padronizado)
        // ===================================================
        function logout() {
            // Remove a sessão de ambas as áreas de armazenamento
            sessionStorage.removeItem('back_informatica_user');
            localStorage.removeItem('back_informatica_user');

            // Redireciona para a página de login
            window.location.replace('index.html');
        }

        // ===================================================
        // 2. WEB COMPONENT: BackInformaticaNavbar (Padronizado)
        // ===================================================
        class BackInformaticaNavbar extends HTMLElement {
            connectedCallback() {
                // Obtém o nome do arquivo da URL atual (Ex: dash.html)
                const currentPath = window.location.pathname.split('/').pop();

                const links = [
                    { href: "dash.html", text: "Dashboard" },
                    { href: "tickets.html", text: "Chamados" },
                    { href: "reports.html", text: "Relatórios" },
                ];

                const navLinksHtml = links.map(link => {
                    // Verifica se o link atual corresponde à página
                    const isActive = currentPath === link.href;
                    // Classes de destaque
                    const activeClasses = "font-medium text-blue-600 border-b-2 border-blue-600 pb-1";
                    const inactiveClasses = "hover:text-blue-600 transition duration-150";
                    const classes = isActive ? activeClasses : inactiveClasses;
                    return `<li><a href="${link.href}" class="${classes}">${link.text}</a></li>`;
                }).join('');

                this.innerHTML = `
                    <header class="bg-white shadow-md">
                        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
                            <div class="text-2xl font-bold text-blue-600">Back Informática - Soluções técnologicas</div>
                            <nav class="hidden md:block">
                                <ul class="flex space-x-6 text-gray-600">
                                    ${navLinksHtml}
                                </ul>
                            </nav>
                            <div class="flex items-center space-x-4">
                                <button class="p-2 rounded-full hover:bg-gray-100 text-gray-500" onclick="alert('Notificações (Simulado)')">
                                    <i data-feather="bell" class="w-5 h-5"></i>
                                </button>
                                <img src="https://ui-avatars.com/api/?name=User&background=3B82F6&color=fff&bold=true" alt="User Avatar" class="w-9 h-9 rounded-full border-2 border-blue-400" onclick="alert('Perfil (Simulado)')">
                                <button class="p-2 rounded-lg bg-gray-100 hover:bg-red-100 text-red-600" onclick="logout()">
                                    <i data-feather="log-out" class="w-5 h-5"></i>
                                </button>
                            </div>
                        </div>
                    </header>
                `;
                // Garante que os ícones do feather sejam substituídos no Light DOM
                feather.replace();
            }
        }
        customElements.define('back-informatica-navbar', BackInformaticaNavbar);


        // ===================================================
        // 3. WEB COMPONENT: BackInformaticaFooter (Padronizado)
        // ===================================================
        class BackInformaticaFooter extends HTMLElement {
            connectedCallback() {
                this.innerHTML = `
                    <footer class="bg-gray-800 text-white py-4 mt-auto">
                        <div class="container mx-auto px-4 text-center text-sm">
                            &copy; ${new Date().getFullYear()} Back Informática - Soluções tecnólogicas. Todos os direitos reservados.
                        </div>
                    </footer>
                `;
            }
        }
        customElements.define('back-informatica-footer', BackInformaticaFooter);

        // ===================================================
        // 4. FUNÇÕES DE MODAL E AÇÕES DE TICKET (Específico desta página)
        // ===================================================

        function getTicketData(status) {
            // Dados simulados para o dashboard
            const allTickets = [
                // ... (Seu código JS de simulação de dados)
                { id: 'TKT-001', requester: 'Maria Silva', equipment: 'Notebook HP', status: 'completed', date: '2025-09-01' },
                { id: 'TKT-002', requester: 'João Santos', equipment: 'Impressora Epson', status: 'ongoing', date: '2025-09-02' },
                { id: 'TKT-003', requester: 'Ana Souza', equipment: 'Servidor Dell', status: 'pending', date: '2025-09-03' },
                { id: 'TKT-004', requester: 'Pedro Lima', equipment: 'Desktop Lenovo', status: 'completed', date: '2025-09-04' },
                { id: 'TKT-005', requester: 'Carla Dias', equipment: 'Roteador Cisco', status: 'ongoing', date: '2025-09-05' },
                { id: 'TKT-006', requester: 'Bruno Costa', equipment: 'Monitor Samsung', status: 'completed', date: '2025-09-06' },
                { id: 'TKT-007', requester: 'Daniela Reis', equipment: 'Teclado Multilaser', status: 'completed', date: '2025-09-07' },
                { id: 'TKT-008', requester: 'Fernando Alves', equipment: 'Mouse Logitech', status: 'ongoing', date: '2025-09-08' },
                { id: 'TKT-009', requester: 'Gabriel Rocha', equipment: 'Webcam', status: 'completed', date: '2025-09-09' },
                { id: 'TKT-010', requester: 'Helena Ferreira', equipment: 'Scanner', status: 'pending', date: '2025-09-10' },
                { id: 'TKT-011', requester: 'Igor Gomes', equipment: 'Switch TP-Link', status: 'ongoing', date: '2025-09-11' },
                { id: 'TKT-012', requester: 'Julia Martins', equipment: 'Notebook Dell', status: 'completed', date: '2025-09-12' },
                { id: 'TKT-013', requester: 'Lucas Nunes', equipment: 'Impressora Brother', status: 'completed', date: '2025-09-13' },
                { id: 'TKT-014', requester: 'Mariana Pires', equipment: 'Servidor HP', status: 'ongoing', date: '2025-09-14' },
                { id: 'TKT-015', requester: 'Ricardo Campos', equipment: 'Desktop HP', status: 'completed', date: '2025-09-15' },
            ];

            if (status === 'summary') {
                return {
                    ongoing: allTickets.filter(t => t.status === 'ongoing').length,
                    completed: allTickets.filter(t => t.status === 'completed').length,
                    pending: allTickets.filter(t => t.status === 'pending').length,
                    latest: allTickets.sort((a, b) => new Date(b.date) - new Date(a.date)).slice(0, 5)
                };
            } else if (status === 'charts') {
                return {
                    statusData: [
                        allTickets.filter(t => t.status === 'ongoing').length,
                        allTickets.filter(t => t.status === 'completed').length,
                        allTickets.filter(t => t.status === 'pending').length
                    ],
                    monthlyData: [15, 22, 18, 25, 30, 42, 38, 45, 50, 48, 55, 60] // Simulação
                };
            } else {
                return allTickets.filter(t => t.status === status);
            }
        }

        // Função principal para carregar dados
        function loadDashboardData() {
            const summary = getTicketData('summary');
            document.getElementById('ongoing-count').textContent = summary.ongoing;
            document.getElementById('completed-count').textContent = summary.completed;
            document.getElementById('pending-count').textContent = summary.pending;

            // Preencher a tabela de últimos atendimentos
            const tableBody = document.getElementById('tickets-table');
            tableBody.innerHTML = ''; // Limpa antes de preencher

            summary.latest.forEach(ticket => {
                // Lógica de classes de status (Mantida do original)
                let statusClass = '';
                let statusText = '';
                switch (ticket.status) {
                    case 'ongoing':
                        statusClass = 'bg-blue-100 text-blue-800';
                        statusText = 'Em Andamento';
                        break;
                    case 'completed':
                        statusClass = 'bg-green-100 text-green-800';
                        statusText = 'Concluído';
                        break;
                    case 'pending':
                        statusClass = 'bg-yellow-100 text-yellow-800';
                        statusText = 'Pendente';
                        break;
                    default:
                        statusClass = 'bg-gray-100 text-gray-800';
                        statusText = 'Não Definido';
                }

                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${ticket.id}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${ticket.requester}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${ticket.equipment}</td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${statusClass}">
                            ${statusText}
                        </span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${new Date(ticket.date).toLocaleDateString('pt-BR')}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium text-center">
                        <button onclick="openActionModal('${ticket.id}', '${ticket.status}')" class="text-blue-600 hover:text-blue-900 p-2 rounded-full hover:bg-gray-100 transition duration-150">
                            <i data-feather="more-vertical" class="w-5 h-5"></i>
                        </button>
                    </td>
                `;
                tableBody.appendChild(row);
            });

            // Carregar gráficos
            loadCharts(getTicketData('charts'));
            feather.replace(); // Substitui ícones após carregar a tabela
        }

        // Função para carregar os gráficos
        function loadCharts(chartData) {
            // Gráfico de Status
            const statusCtx = document.getElementById('statusChart').getContext('2d');
            new Chart(statusCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Em Andamento', 'Concluídos', 'Pendentes'],
                    datasets: [{
                        data: chartData.statusData,
                        backgroundColor: ['#3b82f6', '#10b981', '#f59e0b'],
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    // Deixa o doughnut mais fino (AJUSTE)
                    cutout: '70%',
                    plugins: {
                        legend: {
                            position: 'bottom',
                        },
                        title: {
                            display: false,
                        }
                    }
                }
            });

            // Gráfico Mensal
            const monthlyCtx = document.getElementById('monthlyChart').getContext('2d');
            new Chart(monthlyCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],
                    datasets: [{
                        label: 'Chamados',
                        data: chartData.monthlyData,
                        backgroundColor: 'rgba(59, 130, 246, 0.2)',
                        borderColor: '#3b82f6',
                        borderWidth: 2,
                        tension: 0.3,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            // Adiciona título ao eixo Y (AJUSTE)
                            title: {
                                display: true,
                                text: 'Número de Chamados'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        }

        // ===================================================
        // 5. FUNÇÕES DE MODAL
        // ===================================================

        function toggleModal(modalId, show) {
            const modal = document.getElementById(modalId);
            const content = modal.querySelector('.modal-content');

            if (show) {
                modal.classList.remove('hidden');
                setTimeout(() => {
                    modal.classList.remove('opacity-0');
                    content.classList.remove('scale-95');
                    content.classList.add('scale-100');
                    feather.replace(); // Garante ícones no modal
                }, 10);
            } else {
                content.classList.remove('scale-100');
                content.classList.add('scale-95');
                modal.classList.add('opacity-0');
                setTimeout(() => {
                    modal.classList.add('hidden');
                }, 300);
            }
        }

        function closeActionModal() {
            toggleModal('action-modal', false);
        }

        function closeStatusModal() {
            toggleModal('status-list-modal', false);
        }

        function openStatusModal(status) {
            const titleElement = document.getElementById('status-modal-title');
            const listBody = document.getElementById('status-modal-list');
            const tickets = getTicketData(status);

            let titleText = '';
            switch (status) {
                case 'ongoing':
                    titleText = 'Chamados Em Andamento';
                    break;
                case 'completed':
                    titleText = 'Chamados Concluídos';
                    break;
                case 'pending':
                    titleText = 'Chamados Pendentes';
                    break;
            }
            titleElement.textContent = titleText;

            listBody.innerHTML = '';
            if (tickets.length === 0) {
                listBody.innerHTML = `<tr><td colspan="4" class="text-center py-4 text-gray-500">Nenhum chamado encontrado com este status.</td></tr>`;
            } else {
                tickets.forEach(ticket => {
                    const row = document.createElement('tr');
                    row.className = 'hover:bg-gray-50 cursor-pointer';
                    row.onclick = () => {
                         // Simula a ação de ver detalhes de um item na lista
                         alert(`Visualizando detalhes de ${ticket.id}`);
                    };
                    row.innerHTML = `
                        <td class="px-4 py-2 whitespace-nowrap text-sm font-medium text-gray-900">${ticket.id}</td>
                        <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-500">${ticket.requester}</td>
                        <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-500">${ticket.equipment}</td>
                        <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-500">${new Date(ticket.date).toLocaleDateString('pt-BR')}</td>
                    `;
                    listBody.appendChild(row);
                });
            }

            toggleModal('status-list-modal', true);
        }

        function openActionModal(ticketId, status) {
            const modalContent = document.getElementById('action-modal').querySelector('.modal-content');

            // Lógica para determinar a cor do status
            let statusColor = 'text-gray-500';
            let statusBadge = 'bg-gray-100 text-gray-800';
            switch (status) {
                case 'ongoing':
                    statusColor = 'text-blue-600';
                    statusBadge = 'bg-blue-100 text-blue-800';
                    break;
                case 'completed':
                    statusColor = 'text-green-600';
                    statusBadge = 'bg-green-100 text-green-800';
                    break;
                case 'pending':
                    statusColor = 'text-yellow-600';
                    statusBadge = 'bg-yellow-100 text-yellow-800';
                    break;
            }

            modalContent.innerHTML = `
                <div class="px-6 py-4 border-b border-gray-200 flex justify-between items-center">
                    <h3 class="text-lg font-semibold ${statusColor}">Chamado #${ticketId}</h3>
                    <button onclick="closeActionModal()" class="text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100">
                        <i data-feather="x" class="w-5 h-5"></i>
                    </button>
                </div>
                <div class="p-6 space-y-3">
                    <p class="text-sm font-medium">Status: <span class="px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${statusBadge}">${status.charAt(0).toUpperCase() + status.slice(1)}</span></p>

                    <button onclick="viewTicketDetails('${ticketId}')" class="w-full flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition duration-150">
                        <span>Ver Detalhes</span>
                        <i data-feather="file-text" class="w-5 h-5"></i>
                    </button>
                    <button onclick="editTicket('${ticketId}')" class="w-full flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition duration-150">
                        <span>Editar</span>
                        <i data-feather="edit" class="w-5 h-5"></i>
                    </button>
                    <button onclick="printTicket('${ticketId}')" class="w-full flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition duration-150">
                        <span>Imprimir Relatório</span>
                        <i data-feather="printer" class="w-5 h-5"></i>
                    </button>
                </div>
            `;
            feather.replace(); // Adicionado para garantir que os ícones do modal funcionem
            toggleModal('action-modal', true);
        }

        function printTicket(ticketId) {
            alert(`Gerando relatório para ${ticketId}`);
            closeActionModal();
        }

        function viewTicketDetails(ticketId) {
            alert(`Visualizando detalhes de ${ticketId}`);
            closeActionModal();
        }

        function editTicket(ticketId) {
            alert(`Editando ${ticketId}`);
            closeActionModal();
        }

        function handleTicketFormSubmit(e) {
            e.preventDefault();
            const formData = new FormData(e.target);
            console.log('Novo Chamado Submetido:', Object.fromEntries(formData.entries()));
            alert('Chamado criado com sucesso! (Simulado)');
            closeNewTicketModal();
            e.target.reset();
        }

        // ===================================================
        // INICIALIZAÇÃO
        // ===================================================
        document.addEventListener('DOMContentLoaded', function() {
            loadDashboardData();
        });
    </script>
</body>
</html>